# Проект по оценке результатов A/B-теста
Поставленная задача — провести оценку результатов A/B-теста, связанного с внедрением улучшенной рекомендательной системы.
В распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.
Для решения задачи необходимо было оценить корректность проведения теста и проанализировать результаты теста.
Чтобы оценить корректность проведения теста, нужно было проверить:
•	пересечение тестовой аудитории с конкурирующим тестом,
•	совпадение теста и маркетинговых событий, временных границ теста и другие условия ТЗ.

##Техническое задание
•	Название теста: recommender_system_test;
•	группы: А — контрольная, B — новая платёжная воронка;
•	дата запуска: 2020-12-07;
•	дата остановки набора новых пользователей: 2020-12-21;
•	дата остановки: 2021-01-04;
•	аудитория: 15% новых пользователей из региона EU;
•	ожидаемое количество участников теста: 6000.
•	ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%: 
o	конверсии в просмотр карточек товаров — событие product_page,
o	просмотры корзины — product_cart,
o	покупки — purchase.

## Ход выполнения

### Предобработка данных
Все столбцы с датами имели неправильный тип данных и были приведены к соответствующим типам.
Явных пропусков нигде не было, кроме столбца details в датасете с событиями, но приходились они на все события кроме purchase,
для которых там хранится стоимость покупки, т.е. заполнение пропусков не требовалось.

### Оценка корректности проведения теста
В ходе проверки процесса проведения теста на соответствие ТЗ, выявились следующие проблемы:
1. Некоторые пользователи участвовали в двух тестах одновременно.
2. Была обнаружена ошибка данных, при которой пользователи обеих групп зарегистрированные с 7ого по 13ое декабря становились неактивными (не совершали никаких действий кроме регистрации).
3. После удаления вышеобозначенных пользователей (т.к. они не представляли интереса в рамках анализа воронки конверсий) оказалось нарушено условие ТЗ о количестве участников в 6000.
4. Тест был завершен раньше обозначенного в ТЗ срока.
Таким образом изначально можно было сказать о некорректности проведения теста.

### Исследовательский анализа
В ходе исследовательского анализа было выявлено, что воронка не совсем последовательна, так как покупку можно совершить минуя корзину, а также в группе В на всех этапах конверия в принципе оказалась ниже чем в группе А.
В группе А до покупки доходит 32% пользователей, в группе В - 28%.

### Проверка гипотез
По результатам тестирования группа В не показала улучшения метрик на ожидаемые 10%, скорее наоборот, изменение рекомендательной системы привело к ухудшению конверсии пользователей в покупатели.
Необходимо оценить статистическую значимость различия долей конверсии с помощью z-критерия.

Были сформулированы гипотезы:
**Нулевая (Н0):** доли уникальных пользователей, побывавших на этапе воронки, одинаковы
**Альтернативная (Н1)**: между долями уникальных посетителей, побывавших на этапе воронки, есть значимая разница.

Так как тесты множественные, т.е. проводятся несколько раз на одних и тех же данных, был использован метод корректировки уровня значимости - поправка Бонферрони.
По результатам стат.тестов в 3 из 4 этапах воронки доли пользователей оказались одинаковы.
На этапе просмотра карточки товара выявлена статистически значимая разница конверсий, то есть процент пользователей группы В перешедших на карточку товара действительно снизился после внедрения новой рекомендательной системы.
Таким образом эксперимент можно считать неудачным.

## Вывод
В ходе проведенного анализа результатов A/B-теста за период 07.12.2020 по 30.12.2020 было выявлено, что данные во многом не соответствуют ТЗ, тест проводится в сезон праздников, группы набраны неравномерно и в целом можно сказать что тест проведен некорректно.
Также тест не показал статистически значимого изменения ключевых метрик, в то время как ожидалось +10%, а на одном из этапов воронки показал наоборот значимое уменьшение метрики.
Таким образом мы можем принять результаты теста и рекомендовать не использовать новую систему рекомендаций, как не соответствующую ожиданиям, но с поправкой на нарушения в части проведения теста, которые могли критично исказить полученные результаты.

